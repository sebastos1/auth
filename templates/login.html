<!DOCTYPE html>
<html>

<head>
    <title>Log in</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <h1>Log in</h1>
    <p><strong>{{ client_id }}</strong> wants to access your account</p>
    <p>Requested permissions: {{ scopes }}</p>

    {% if let Some(general_error) = errors.get("general") %}
    <div style="color: red; margin-bottom: 1rem;">
        {{ general_error }}
    </div>
    {% endif %}

    <form method="post" action="/authorize" novalidate>
        <input type="hidden" name="client_id" value="{{ client_id }}">
        <input type="hidden" name="redirect_uri" value="{{ redirect_uri }}">
        <input type="hidden" name="state" value="{{ state }}">
        <input type="hidden" name="scopes" value="{{ scopes }}">

        <div>
            <label>Username or Email:</label>
            <input type="text" name="login" value="{{ login }}">
            {% if let Some(login_error) = errors.get("login") %}
            <div style="color: red; font-size: 0.9em;">{{ login_error }}</div>
            {% endif %}
        </div>

        <div>
            <label>Password:</label>
            <input type="password" name="password">
            {% if let Some(password_error) = errors.get("password") %}
            <div style="color: red; font-size: 0.9em;">{{ password_error }}</div>
            {% endif %}
        </div>

        <button type="submit">Login & Authorize</button>
    </form>

    <p><a href="/register?client_id={{ client_id }}&redirect_uri={{ redirect_uri }}&scope={{ scopes }}&state={{ state }}">Don't have an account? Register here</a></p>
</body>

</html>